"use strict";var zz=new function(){if(!window.performance)window.performance={};performance.now=performance.now||performance.mozNow||performance.webkitNow||performance.msNow||performance.oNow||function(){return new Date().getTime();};window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||(function(){var a=performance.now();return function(b){var c=performance.now()-a;return setTimeout(b,Math.max(1,1000/this.frameRate-c<<0));};}());var a=30;var b=3;var c=(function(){var a=navigator.userAgent;var b=(function(){if(a.indexOf("WebKit")!=-1)return "Webkit";else if(a.indexOf("Gecko")!=-1)return "Gecko";else return "NoSupport";})();var c=[{pattern:/\((iPhone|iPad|iPod); .*CPU .*OS ([0-9]_[0-9])/,os:"iOS",model:function(a){return a[1];},version:function(a){return parseFloat(a[2].replace("_","."));}},{pattern:/Android (\d+\.\d+)\.\d+; ?([a-z]{2}-[a-z]{2}|);? ?(\S+) /,os:"Android",model:function(a){return a[3];},version:function(a){return parseFloat(a[1]);}},{pattern:/Mozilla\/5.0 \(Windows NT/,os:"Windows",model:function(a){return "Windows";},version:function(a){return 1;}},{pattern:/Mozilla\/5.0 \((Macintosh); Intel Mac OS X (\d+[_.]\d+)/,os:"Mac OS X",model:function(a){return a[1];},version:function(a){return parseFloat(a[2].replace("_","."));}}];var d=document.createElement("div");d.setAttribute("ontouchstart","return");var e={USER_AGENT:a,RENDERING_ENGINE:b,VENDOR_PREFIX:{Webkit:"webkit",Gecko:"Moz",NoSupport:""}[b],OS:"Unknown",MODEL:"Unknown",VERSION:0,TOUCH_ENABLED:typeof d.ontouchstart==="function"};for(var f=0,g=c.length;f<g;f++){var h=c[f];var i=a.match(h.pattern);if(i){e.OS=h.os;e.MODEL=h.model(i);e.VERSION=h.version(i);return e;}}alert("Browser not supported.");return e;})();var d=c.OS=="Android";var e=c.VENDOR_PREFIX;var f={TOP:1,BOTTOM:2,MIDDLE:3,LEFT:4,RIGHT:8,CENTER:12};var g=function(a,b){for(var c in b)if(b.hasOwnProperty(c))if(typeof b[c]=="function")b[c]={writable:true,enumerable:true,value:b[c]};return Object.create(a.prototype,b);};var h=new function(){var a={ENTER_FRAME:"__enter_frame__",COMPLETE:"__complete__"};var b=function(a){this.name=a;this.x=0;this.y=0;};for(var c in a)b[c]=a[c];return b;}();var i=new function(){if(c.TOUCH_ENABLED)return{TOUCH_DOWN:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_UP:"touchend",TOUCH_OUT:"touchcancel"};else return{TOUCH_DOWN:"mousedown",TOUCH_MOVE:"mousemove",TOUCH_UP:"mouseup",TOUCH_OUT:"mouseout"};}();var j={NORMAL:"normal",FULL_SCREEN:"fullscreen"};var k=new function(){var a=function(){this.eventContainer=new Object();};a.prototype={addEventListener:function(a,b){if(!this.eventContainer[a])this.eventContainer[a]=new Array();this.removeEventListener(a,b);this.eventContainer[a].push(b);},removeEventListener:function(a,b){if(!this.eventContainer[a])return;var c=this.eventContainer[a].length;for(var d=0;d<c;d++)if(b==this.eventContainer[a][d]){this.eventContainer[a].splice(d,1);return;}},cleanEventListener:function(a){if(a)delete this.eventContainer[a];else this.eventContainer={};},dispatchEvent:function(a){var b;var c;var d=false;if(typeof a=="string"){b=a;c=new Object();c.name=b;}else{b=a.name;c=a;}c.target=this;if(!this.eventContainer[b])return d;var e=this.eventContainer[b].length;for(var f=0;f<e;f++)if(this.eventContainer[b][f]==undefined)d|=this.eventContainer[b].splice(f,1);else d|=this.eventContainer[b][f].call(this,c);return d;}};return a;}();var l=new function(){var a=function(){v.EventDispatcher.apply(this);if(!this.element)this.element=document.createElement("div");this.style=this.element.style;this.style.position="absolute";this.style.display="none";this.style[e+"TapHighlightColor"]="rgba(0,0,0,0)";this.style[e+"TouchCallout"]="none";this.style[e+"UserSelect"]="none";this.name="";this.parent=null;this.x=0;this.y=0;this._width=0;this._height=0;this.scaleX=1;this.scaleY=1;this.rotation=0;this.alpha=1;this.visible=true;this.referencePoint=f.LEFT|f.TOP;this._dirty=false;this.enabled=true;var a=this;for(var c in i)this.element["on"+i[c]]=function(c){if(a.enabled)b(c,a);};};function b(a,b){var d=b.element.getBoundingClientRect();var e=new h(a.type);if(c.TOUCH_ENABLED){if(a.touches.length){e.x=a.touches[0].clientX-d.left<<0;e.globalX=e.x+b.x;e.y=a.touches[0].clientY-d.top<<0;e.globalY=e.y+b.y;}}else{e.x=a.clientX-d.left<<0;e.globalX=e.x+b.x;e.y=a.clientY-d.top<<0;e.globalY=e.y+b.y;}var f=b.dispatchEvent(e);if(f){a.preventDefault();a.stopPropagation();}}a.prototype=g(k,{transform:function(){this.style[e+"Transform"]=["translate("+this._x+"px,"+this._y+"px)","rotate("+this.rotation+"deg)","scale("+this.scaleX+","+this.scaleY+")"].join(" ");},setPosition:function(a,b){this.x=a;this.y=b;},setSize:function(a,b){this.width=a;this.height=b;},setRect:function(a,b,c,d){this.setPosition(a,b);this.setSize(c,d);},onEnterFrame:function(){this.dispatchEvent(h.ENTER_FRAME);if(this._dirty){this.transform();this._dirty=false;}},globalToLocal:function(a,b){throw new Error("Not implemented error.");},localToGlobal:function(a,b){var c=a,d=b;if(!c)c=this.x;if(!d)d=this.y;console.log(c,d);return{x:c,y:d};},render:function(){},name:{get:function(){return this._name;},set:function(a){if(this.parent){if(this._name in this.parent.nameMap)this.parent.nameMap[this._name]=null;if(a in this.parent.nameMap)throw new Error("duplicate key error. "+a+" is already defined.");if(a)this.parent.nameMap[a]=this;}this._name=a;}},root:{get:function(){var a=this;var b=this.parent;while(b){a=b;b=b.parent;}return a;}},x:{get:function(){return this._x;},set:function(a){this._x=a;this._dirty=true;}},y:{get:function(){return this._y;},set:function(a){this._y=a;this._dirty=true;}},width:{get:function(){return this._width;},set:function(a){this._width=a;this.style.width=a+"px";this.referencePoint=this._reference;}},height:{get:function(){return this._height;},set:function(a){this._height=a;this.style.height=a+"px";this.referencePoint=this._reference;}},scaleX:{get:function(){return this._scaleX;},set:function(a){this._scaleX=a;this._dirty=true;}},scaleY:{get:function(){return this._scaleY;},set:function(a){this._scaleY=a;this._dirty=true;}},scale:{set:function(a){this._scaleX=a;this._scaleY=a;this._dirty=true;}},rotation:{get:function(){return this._rotation;},set:function(a){this._rotation=a;this._dirty=true;}},alpha:{get:function(){return this._alpha;},set:function(a){this.style.opacity=this._alpha=a;}},visible:{get:function(){return this._visible;},set:function(a){this._visible=a;var b=this;function c(){if(b._visible)b.style.display="block";else b.style.display="none";b.removeEventListener(h.ENTER_FRAME,c);}this.addEventListener(h.ENTER_FRAME,c);}},backgroundColor:{get:function(){return this.style.backgroundColor;},set:function(a){this.style.backgroundColor=a;}},referencePoint:{get:function(){return this._reference;},set:function(a){this._reference=a;if((a&f.CENTER)==f.CENTER){this.referenceX=50;this.style.left=-(this._width/2<<0)+"px";}else if((a&f.RIGHT)==f.RIGHT){this.referenceX=100;this.style.left=-this._width+"px";}else{this.referenceX=0;this.style.left="0px";}if((a&f.MIDDLE)==f.MIDDLE||a==f.CENTER){this.referenceY=50;this.style.top=-(this._height/2<<0)+"px";}else if((a&f.BOTTOM)==f.BOTTOM){this.referenceY=100;this.style.top=-this._height+"px";}else{this.referenceY=0;this.style.top="0px";}this.style[e+"TransformOrigin"]=this.referenceX+"% "+this.referenceY+"%";this._dirty=true;}},removeSelf:function(){this.parent.removeChild(this);}});return a;}();var m=new function(){var a=function(){v.DisplayObject.apply(this);this.children=new Array();this.nameMap=new Object();};a.prototype=g(l,{addChild:function(a){a.parent=this;this.element.appendChild(a.element);this.children.push(a);l.prototype.transform.call(a);if(a.name){if(a.name in this.nameMap)throw new Error("duplicate key error. "+a.name+" is already defined.");this.nameMap[a.name]=a;}},addChildAt:function(a,b){a.parent=this;if(b<this.numChildren)this.element.insertBefore(a.element,this.children[b].element);else this.element.appendChild(a.element);this.children.splice(b,0,a);l.prototype.transform.call(a);if(a.name){if(a.name in this.nameMap)throw new Error("duplicate key error. "+a.name+" is already defined.");this.nameMap[a.name]=a;}},removeChild:function(a){for(var b=0,c=this.numChildren;b<c;b++)if(this.children[b]==a){a.cleanEventListener();this.element.removeChild(a.element);delete this.children[b];break;}if(this.children.length===0)this.children=[];},getChildAt:function(a){return this.children[a];},getChildByName:function(a){if(a in this.nameMap)return this.nameMap[a];return null;},getChildIndex:function(a){for(var b=0,c=this.numChildren;b<c;b++)if(this.children[b]==a)return b;throw new Error("child is not contained.");},setChildIndex:function(a,b){for(var c=0,d=this.numChildren;c<d;c++)if(c!=b&&this.children[c]==a&&b<d){if(b<c)this.element.insertBefore(a.element,this.children[b].element);else this.element.insertBefore(a.element,this.children[b].element.nextSibling);this.children.splice(c,1);this.children.splice(b,0,a);break;}},swapChildren:function(a,b){var c=-1;var d=-1;for(var e=0,f=this.numChildren;e<f;e++)if(this.children[e]==a)c=e;else if(this.children[e]==b)d=e;if(c>=0&&d>=0){this.children.splice(c,1,b);this.children.splice(d,1,a);var g=a.element.nextSibling;var h=b.element.nextSibling;if(g===null){this.element.insertBefore(a.element,h);this.element.insertBefore(b.element,g);}else{this.element.insertBefore(b.element,g);this.element.insertBefore(a.element,h);}}},render:function(){l.prototype.render.call(this);for(var a=0,b=this.numChildren;a<b;a++)if(this.children[a])this.children[a].render();},onEnterFrame:function(){l.prototype.onEnterFrame.apply(this);for(var a=0,b=this.numChildren;a<b;a++)if(this.children[a])this.children[a].onEnterFrame();var c=this.children;function d(a){if(a<c.length){if(!c[a])c.splice(a,1);++a;d(a);}}d(0);},numChildren:{get:function(){return this.children.length;}}});return a;}();var n=new function(){var b=function(b){var c=document.getElementById(b);if(!c){c=document.createElement("div");c.id=b;c.style.width=window.innerWidth+"px";c.style.height=window.innerHeight+"px";document.body.appendChild(c);}this.element=c;v.DisplayObjectContainer.apply(this);this.frameRate=a;this.x=0;this.y=0;this.parent=null;this.style=c.style;this.style.position="relative";this.style.overflow="hidden";this._width=parseInt(this.style.width,10);this._height=parseInt(this.style.height,10);this.handle=null;this.start();this.renderLoop();};b.prototype=g(m,{onEnterFrame:function(){var a=performance.now();m.prototype.onEnterFrame.call(this);var b=performance.now()-a;var c=Math.max(1,1000/this.frameRate-b<<0);var d=this;if(!this._pause)this.handle=setTimeout(function(){d.onEnterFrame();},c);else this.handle=null;},renderLoop:function(){var a=this;a.render();requestAnimationFrame(function(){a.renderLoop();});},start:function(){this._pause=false;if(!this.running)this.onEnterFrame();},pause:function(){this._pause=true;if(this.handle){clearTimeout(this.handle);this.handle=null;}},running:{get:function(){return this.handle!==null;}},end:function(){document.body.removeChild(this.element);},displayState:{set:function(a){var b=e.toLowerCase();switch(a){case j.FULL_SCREEN:if(typeof document[b+"CancelFullScreen"]!="undefined")if(this.displayState!=j.FULL_SCREEN)if(this.element[b+"RequestFullScreen"])this.element[b+"RequestFullScreen"]();break;case j.NORMAL:if(document[b+"CancelFullScreen"])document[b+"CancelFullScreen"]();break;default:break;}},get:function(){var a=e.toLowerCase();if(a=="webkit"&&document.webkitIsFullScreen||document.fullScreen||document[a+"FullScreen"])return j.FULL_SCREEN;return j.NORMAL;}}});return b;}();var o=new function(){var a=function(a,b,c){this.canvas=document.createElement("canvas");v.DisplayObjectContainer.apply(this);this.canvas.style.position="absolute";this.context=this.canvas.getContext("2d");this.element.appendChild(this.canvas);var d=this;if(a)this.img=s(a,function(){d.width=d.img.width;d.height=d.img.height;d.canvas.width=d._width;d.canvas.height=d._height;d.tw=d._clearWidth=d._width;d.th=d._clearHeight=d._height;d.referencePoint=d._reference;d.trimming(d.tx,d.ty,d.tw,d.th);d.loaded=true;d.dispatchEvent(new h(h.COMPLETE));});else{this.width=0;this.height=0;this.canvas.width=0;this.canvas.height=0;}if(b!=undefined&&c!=undefined)this.setPosition(b,c);this.tx=0;this.ty=0;this.tw=this._clearWidth=this._width;this.th=this._clearHeight=this._height;this.loaded=false;this.imageData=null;this._originalImageData=null;this._brightness=0;this._red=100;this._green=100;this._blue=100;this._canvasDirty=true;};a.prototype=g(m,{tx:{get:function(){return this._tx;},set:function(a){this._canvasDirty=true;this._tx=a;}},ty:{get:function(){return this._ty;},set:function(a){this._canvasDirty=true;this._ty=a;}},tw:{get:function(){return this._tw;},set:function(a){this._canvasDirty=true;if(a>this._clearWidth)this._clearWidth=a;this._width=this._tw=a;}},th:{get:function(){return this._th;},set:function(a){this._canvasDirty=true;if(a>this._clearHeight)this._clearHeight=a;this._height=this._th=a;}},width:{get:function(){var a=Object.getOwnPropertyDescriptor(l.prototype,"width");return a.get.call(this);},set:function(a){var b=Object.getOwnPropertyDescriptor(l.prototype,"width");b.set.call(this,a);this.canvas.width=a;}},height:{get:function(){var a=Object.getOwnPropertyDescriptor(l.prototype,"height");return a.get.call(this);},set:function(a){var b=Object.getOwnPropertyDescriptor(l.prototype,"height");b.set.call(this,a);this.canvas.height=a;}},trimming:function(a,b,c,d){if(a<0)a=0;else if(this.loaded&&a>this.img.width)a=this.img.width;this.tx=a;if(b<0)b=0;else if(this.loaded&&b>this.img.height)b=this.img.height;this.ty=b;if(c<=0)c=1;else if(c>this.img.width)c=this.img.width;this.tw=c;if(d<=0)d=1;else if(d>this.img.height)d=this.img.height;this.th=d;},setImageData:function(){if(this.loaded)this.getImageData();else{var a=this;var b=function(){a.getImageData();a.removeEventListener(h.COMPLETE,b);};this.addEventListener(h.COMPLETE,b);}},brightness:{get:function(){return this._brightness;},set:function(a){if(this._brightness==a)return;this._brightness=a;if(d)return;else this.setImageData();}},red:{get:function(){return this._red;},set:function(a){if(this._red==a)return;this._red=a;if(d)return;this.setImageData();}},green:{get:function(){return this._green;},set:function(a){if(this._green==a)return;this._green=a;if(d)return;this.setImageData();}},blue:{get:function(){return this._blue;},set:function(a){if(this._blue==a)return;this._blue=a;if(d)return;this.setImageData();}},render:function(){if(this.loaded)if(this._canvasDirty){this.context.clearRect(0,0,this._clearWidth,this._clearHeight);this._clearWidth=this._width;this._clearHeight=this._height;if(this.imageData)this.context.putImageData(this.imageData,0,0);else this.context.drawImage(this.img,this.tx,this.ty,this.tw,this.th,0,0,this._width,this._height);this._canvasDirty=false;}m.prototype.render.call(this);},getImageData:function(){if(this._originalImageData===null){this.context.clearRect(0,0,this._width,this._height);this.context.drawImage(this.img,this.tx,this.ty,this.tw,this.th,0,0,this._width,this._height);this._originalImageData=this.context.getImageData(0,0,this._width,this._height);}var a=this._originalImageData.data;this.imageData=this.context.createImageData(this._width,this._height);var b=this.imageData.data;var c=this.imageData.width;var d=this.imageData.height;for(var e=0;e<d;e++)for(var f=0;f<c;f++){var g=(e*c+f)*4;if(a[g+3]===0)continue;b[g+0]=a[g+0]*this._red/100+this._brightness*255/100;b[g+1]=a[g+1]*this._green/100+this._brightness*255/100;b[g+2]=a[g+2]*this._blue/100+this._brightness*255/100;b[g+3]=a[g+3];}this._canvasDirty=true;}});return a;}();var p=new function(){var a=function(a,b,c){v.Sprite.apply(this,arguments);this.currentFrame=1;this.frames=new Array();this.playing=true;this.currentLabel="";this._mcDirty=true;};a.prototype=g(o,{setAnimation:function(a){this.frames=[];var b=new Array();for(var c in a){if(!this.frames[c])this.frames[c]=new Object();var d=a[c];for(var e in d){this.frames[c][e]=d[e];if(e=="tween"&&d[e])b.push(c);}}function f(a){a=parseInt(a,10);var b=this.frames[a];var c=a;for(var d=a+1,e=this.frames.length;d<e;d++)if(this.frames[d]){c=d;break;}if(a!=c){var f=this.frames[c];var g=c-a;for(var h in f)if(b[h]!=undefined&&typeof b[h]=="number"){var i=(f[h]-b[h])/g;for(d=a+1;d<c;d++){if(!this.frames[d])this.frames[d]=new Object();this.frames[d][h]=this.frames[d-1][h]+i;}}}}for(var g=0,h=b.length;g<h;g++){var i=b[g];f.call(this,i);}},play:function(){++this.currentFrame;if(this.currentFrame>=this.frames.length)this.currentFrame=1;this.playing=true;this._mcDirty=true;},stop:function(){this.playing=false;this._mcDirty=true;},setFrame:function(a){if(typeof a=="string"){for(var b in this.frames)if(this.frames[b].label)if(a==this.frames[b].label){this.currentFrame=b;break;}}else this.currentFrame=a;this._mcDirty=true;},gotoAndPlay:function(a){this.playing=true;this.setFrame(a);},gotoAndStop:function(a){this.playing=false;this.setFrame(a);},onEnterFrame:function(){var a=this.frames[this.currentFrame];if(this._mcDirty){if(a!=undefined){var b=null;for(var c in a)switch(c){case "stop":this.playing=false;break;case "gotoAndPlay":this.gotoAndPlay(a[c]);break;case "gotoAndStop":this.gotoAndStop(a[c]);break;case "label":this.currentLabel=a[c];break;case "event":b=a[c];break;default:this[c]=a[c];break;}if(b)if(typeof b=="function")b.call(this);else this.dispatchEvent(b);}this._mcDirty=false;}m.prototype.onEnterFrame.call(this);if(this.playing){++this.currentFrame;if(this.currentFrame>=this.frames.length)this.currentFrame=1;this._mcDirty=true;}}});return a;}();var q=new function(){var a=function(){this.font="";this.bold=false;this.italic=false;this.size=null;this.color="";};return a;}();var r=new function(){var a=function(){v.DisplayObject.apply(this);this.text="";this.style.visibility="hidden";this.style.display="block";this.visible=true;};a.prototype=g(l,{defaultTextFormat:{get:function(){return this._defaultTextFormat;},set:function(a){this._defaultTextFormat=a;this.style.fontFamily=a.font;this.style.fontWeight=a.bold?"bold":"normal";this.style.fontStyle=a.italic?"italic":"normal";this.style.fontSize=a.size?a.size+"px":"";this.style.color=a.color;}},text:{get:function(){return this.element.innerHTML;},set:function(a){this.element.innerHTML=a;this.setSize(this.width,this.height);}},textColor:{get:function(){return this.style.color;},set:function(a){this.style.color=a;}},visible:{get:function(){return this._visible;},set:function(a){this._visible=a;var b=this;function c(){if(b._visible)b.style.visibility="visible";else b.style.visibility="hidden";b.removeEventListener(h.ENTER_FRAME,c);}this.addEventListener(h.ENTER_FRAME,c);}},width:{get:function(){return this.element.clientWidth;},set:function(a){this._width=a;this.referencePoint=this._reference;}},height:{get:function(){return this.element.clientHeight;},set:function(a){this._height=a;this.referencePoint=this._reference;}}});return a;}();function s(a,c){var d=new Image();d.src=a;var e=b;d.onerror=function(){if(e--)d.src=a;else throw new Error('Could not load image files: '+a);};d.onload=function(){if(typeof c=="function")c();};return d;}function t(a,c){var d=document.getElementsByTagName("head")[0];var e=b;(function f(){var b=document.createElement("script");b.type="text/javascript";b.src=a;b.onerror=function(){if(e--)f();else throw new Error('Could not load script files: '+a);};b.onload=function(){if(typeof c=="function")c();};d.appendChild(b);})();}var u={ENV:c,Event:h,TouchEvent:i,ReferencePoint:f,StageDisplayState:j,EventDispatcher:k,DisplayObject:l,DisplayObjectContainer:m,Stage:n,Sprite:o,MovieClip:p,TextFormat:q,TextField:r};var v={globalize:function(){for(var a in u)window[a]=u[a];},createClass:g,preload:function(a,b){if(!(a instanceof Array))throw new Error("assets must be array.");var c=a.length;function d(){--c;if(c===0)if(typeof b=="function")b();}for(var e=0;e<c;++e)v.load(a[e],d);},load:function(a,b){if(a.match(/\.\w+$/)){var c=RegExp.lastMatch.slice(1).toLowerCase();switch(c){case "gif":case "jpg":case "png":s(a,b);break;case "js":t(a,b);break;default:break;}}},modularize:function(a,b){var c=new Object();for(var d in a)c[d]=a[d];for(d in b)v[d]=u[d]=c[d]=b[d];return c;}};for(var w in u)v[w]=u[w];return v;}();