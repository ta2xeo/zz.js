"use strict";zz.utils=new function(){function a(){zz.MovieClip.apply(this);this._running=false;}a.prototype=zz.createClass(zz.MovieClip,{_execute:function(){if(this._running)zz.MovieClip.prototype._execute.apply(this);else this._execution=false;},run:function(){this._running=true;function a(b){b._execute();if(!(b instanceof zz.DisplayObjectContainer))return;for(var c=0,d=b.numChildren;c<d;c++){var e=b.getChildAt(c);a(e);}}a(this);},suspend:function(){this._running=false;}});function b(a){zz.DisplayObjectContainer.apply(this);var b=0;var c=0;var d=0;this.fps=0;function e(){++b;var a=new Date();d=a.getSeconds();if(c!=d){c=d;this.fps=b;b=0;}}this.addEventListener(Event.ENTER_FRAME,e);a.addChild(this);}b.prototype=zz.createClass(zz.DisplayObjectContainer,{console:function(a){a=a||1;var b=this;function c(){console.log("FPS:",b.fps);setTimeout(c,a*1000);}c();},text:function(a,b){a=a||0;b=b||0;var c=new zz.TextField();c.autoSize=zz.TextFieldAutoSize.LEFT;c.setPosition(a,b);c.style.textShadow="-1px -1px 1px #000, 1px -1px 1px #000, -1px 1px 1px #000, 1px 1px 1px #000";var d=new zz.TextFormat();d.bold=true;d.size=16;d.color="#fff";c.defaultTextFormat=d;this.addChild(c);this.addEventListener(Event.ENTER_FRAME,function(){c.text=this.fps;});}});var c=new function(){var a=6;function b(){this.progress=0;this.queues=[];this.parallels=a;this.stored={};this.progress=null;}b.prototype=zz.createClass(Object,{addQueue:function(a){if(this.queues.length===0)this.queues.push([]);var b=this.queues.length-1;var c=this.queues[b];function d(a,b){if(!b)return;if(!(b in this.stored)){this.stored[b]=1;a.push(b);}}if(a instanceof Array)for(var e=0,f=a.length;e<f;e++)d.call(this,this.queues[b],a[e]);else d.call(this,this.queues[b],a);},nextQueue:function(a){this.queues.push([]);if(a)this.addQueue(a);},download:function(a){var b=0;var c=this.queues.shift();var d=this.parallels;var e=this.progress;if(!c||c.length===0){if(typeof e=="function")e(100,0,0);if(typeof a=="function")a();return;}var f=c.length;function g(){++b;var d=b*100/f;if(d<=100)if(typeof e=="function")e(d,b,f);if(d>=100){if(d===100&&typeof a=="function")a();return;}var h=c.shift();if(h)zz.loadImage(h,g);}for(var h=0;h<d;h++){var i=c.shift();if(i)zz.loadImage(i,g);else break;}},showDefaultProgress:function(){var a=new zz.Stage("__zz_loader_default_progress__");a.style.position="absolute";var b=new zz.TextFormat();b.color="#ddd";b.size=40;b.font="sans-serif";b.bold=true;var c=new zz.TextField("0%");c.autoSize=zz.TextFieldAutoSize.RIGHT;c.setPosition(120,10);c.referencePoint=zz.ReferencePoint.RIGHT_TOP;c.defaultTextFormat=b;a.addChild(c);var d=this;function e(b,e,f){b=Math.floor(b);c.text=b+'%';if(b===100){d.progress=null;a.removeSelf();}}this.progress=e;return a;},showDefaultLoadingIcon:function(a,b,c){var d=new zz.Stage("__zz_loader_default_loading_icon__");var e=140;var f=140;d.referencePoint=zz.ReferencePoint.CENTER;d.style.position="absolute";d.setPosition(b||d.width/2,c||d.height/2);d.setSize(e,f);var g=0;d.addEventListener(Event.ENTER_FRAME,function(){++g;if(g>2){d.rotation+=45;g=0;}});for(var h=0;h<6;h++){var i=new zz.DisplayObjectContainer();i.setSize(e/2,f/2);i.setPosition(e/2,f/2);i.referencePoint=zz.ReferencePoint.CENTER_BOTTOM;i.rotation=h*45;i.alpha=1-h*0.15;var j=new zz.DisplayObject();j.setSize(10,30);j.style.borderRadius="10px";j.referencePoint=zz.ReferencePoint.CENTER;j.setPosition(e/4,f/4);j.backgroundColor=a||"#fff";i.addChild(j);d.addChild(i);}var k=this;function l(a,b,c){a=Math.floor(a);if(a===100){k.progress=null;d.removeSelf();}}this.progress=l;return d;}});return b;}();function d(a){var b=[];(function c(a){for(var d in a){var e=a[d];if(e instanceof Object)c(e);else b.push(e);}})(a);return b;}function e(a,b){var c=JSON.stringify(b);window.localStorage.setItem(a,c);}function f(a){var b=window.localStorage.getItem(a);return JSON.parse(b);}function g(a){window.localStorage.removeItem(a);}return zz.modularize({local:{objectValueToList:d},global:{LazyMC:a,FPS:b,Loader:c,saveData:e,loadData:f,deleteData:g}});}();