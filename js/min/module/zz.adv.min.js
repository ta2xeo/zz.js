"use strict";zz.adv=new function(){function f(){zz.MovieClip.apply(this);var t=new zz.TextField;t.text="â–¼";t.textColor=e;this.addChild(t);this.width=30;this.height=30;this.setAnimation({1:{alpha:0,tween:true},15:{alpha:1,tween:true},30:{alpha:0,tween:true}})}function l(a,l,c){zz.DisplayObjectContainer.apply(this);this.backgroundColor=t;this.alpha=n;this.setSize(a,l);this.style.borderRadius=(c||i)+"px";this.textWait=r;this.text=new zz.TextField;this.text.textColor=e;this.text.style.lineHeight=u;var h=s;var p=o;this.text.style.padding=[p+"px",h+"px",0+"px"].join(" ");this.setTexts(new Array);this.readyIcon=new f;this.readyIcon.referencePoint=zz.ReferencePoint.BOTTOM|zz.ReferencePoint.RIGHT;this.readyIcon.setPosition(this.width-10,this.height-10);this.addChild(this.text);this.addChild(this.readyIcon);this.ready=true;this.current=null;var d=this;this._typewriter=function(){var e=d.textWait/d.root.frameRate;++d.count;if(d.count>e){d.count=0;++d.character;d.text.text=d.current[d.character-1];if(!d.current[d.character]){d.ready=true;d.removeEventListener(Event.ENTER_FRAME,d._typewriter)}}}}function c(n,r,s){zz.Sprite.apply(this);this.setSize(n,r);this.backgroundColor=t;this.style.borderRadius=(s||i)+"px";this.style.border=a;this._name=new zz.TextField;this._name.referencePoint=zz.ReferencePoint.CENTER;this._name.setPosition(this.width/2,this.height/2);this._name.textColor=e;this.defaultNameColor=this.nameColor;this.addChild(this._name);this.nameColors=new Object}function h(e){var t=e.mc||new zz.Sprite(e.path);t.referencePoint=zz.ReferencePoint.CENTER;t.x=e.x||0;t.y=e.y||0;if(e.active!==undefined&&!e.active){t.brightness=-20}return t}function p(e,t){zz.DisplayObjectContainer.call(this);this.imageContainer=new zz.DisplayObjectContainer;this.imageContainer.referencePoint=zz.ReferencePoint.BOTTOM|zz.ReferencePoint.CENTER;this.textArea=e;this.namePlate=t;this.addChild(this.imageContainer);this.addChild(e);this.addChild(t)}var e="#ffffff";var t="#000000";var n=.75;var r=50;var i=15;var s=20;var o=10;var u="170%";var a="5px ridge #0f00f0";f.prototype=zz.createClass(zz.MovieClip,{});l.STATUS={START:1,READING:2,END:3};l.prototype=zz.createClass(zz.DisplayObjectContainer,{setTexts:function(e){this.index=-1;this.htmls=e},erase:function(){this.text.text=""},next:function(){function t(e){function i(e){var r=t.length;if(r in n===false){n[r]=new Array}n[r].push(e)}function s(e,t,n){var s={tag:e,attrs:t,unary:n,start:true,createTag:function(){var r=["<",e];for(var i=0,s=t.length;i<s;i++){r.push(" "+t[i].name+"="+t[i].value)}r.push(n?"/>":">");return r.join("")}};i(s);if(e=="rt"){r.rt=true}if(e=="rp"){r.rp=true}}function o(e){var t={tag:e,end:true,createTag:function(){return"</"+e+">"}};i(t);if(e=="rt"){r.rt=false}if(e=="rp"){r.rp=false}}var t=new Array;var n=new Object;var r={marks:new Object,rt:false,rp:false,inside:function(){return this.rt||this.rp}};HTMLParser(e,{start:function(e,t,n){s(e,t,n)},end:function(e){o(e)},chars:function(e){for(var n=0,i=e.length;n<i;n++){if(r.inside()){r.marks[t.length]=true}t.push(e[n])}},comment:function(e){}});var u=new Array;for(var a=0,f=t.length;a<f;a++){var l=t.slice(0,a+1);var c=new Array;var h=new Object;for(var p in n){var d=n[p].map(function(e){if(p<=a){if(!e.unary){if(e.start){if(e.tag in h===false){h[e.tag]=0}++h[e.tag]}else if(e.end){--h[e.tag]}}return e.createTag()}else if(!e.unary){if(e.end&&h[e.tag]>0){--h[e.tag];return e.createTag()}}return""});c.unshift({index:p,tag:d.join("")})}for(var v=0,m=c.length;v<m;v++){var g=c[v].index;if(g>a+1){g=a+1}l.splice(g,0,c[v].tag)}if(a+1 in r.marks===false){u.push(l.join(""))}}return u||null}++this.index;var e=this.htmls[this.index];this.current=t(e)},forward:function(){if(this.ready&&this.textWait!==0){this.character=1;this.count=0;this.text.text=this.current[this.character-1];this.addEventListener(Event.ENTER_FRAME,this._typewriter);this.ready=false}else{this.removeEventListener(Event.ENTER_FRAME,this._typewriter);this.text.text=this.current[this.current.length-1];this.ready=true}},read:function(){var e=l.STATUS.READING;if(this.ready){this.next();e=l.STATUS.START}if(!this.htmls[this.index]){e=l.STATUS.END}else{this.forward()}return e},ready:{get:function(){return this._ready},set:function(e){this._ready=e;if(this.readyIcon){this.readyIcon.visible=this._ready;if(this._ready){this.readyIcon.gotoAndPlay(1)}else{this.readyIcon.stop()}}}}});c.prototype=zz.createClass(zz.Sprite,{name:{get:function(){return this._name.text},set:function(e){this._name.text=e;if(e in this.nameColors){this.nameColor=this.nameColors[e]}else{this.nameColor=this.defaultNameColor}}},nameColor:{get:function(){return this._name.textColor},set:function(e){this._name.textColor=e}}});p.prototype=zz.createClass(zz.DisplayObjectContainer,{setData:function(e,t){this.names=new Array;this.images=new Array;var n=new Array;for(var r=0,i=e.length;r<i;r++){this.names.push(e[r].name);n.push(e[r].text);this.images.push(e[r].image)}this.textArea.setTexts(n);this.end=t},preloadImages:function(e){var t=this.images.filter(function(e){if(e&&e.path){return true}}).map(function(e){return e.path});zz.preload(t,e)},read:function(){var e=this.textArea.read();if(e===l.STATUS.END){if(typeof this.end=="function"){this.end()}}else if(e===l.STATUS.START){var t=this.names[this.textArea.index];if(t){this.namePlate.name=t}var n=this.images[this.textArea.index];for(var r=0,i=this.imageContainer.numChildren;r<i;r++){var s=this.imageContainer.getChildAt(r);s.removeSelf()}if(n){if(n instanceof Array===false){n=[n]}for(r=0,i=n.length;r<i;r++){var o=n[r];this.imageContainer.addChild(new h(o))}}}},erase:function(){this.namePlate.name="";this.textArea.erase()},setUIPosition:function(e,t,n){this.namePlate.setPosition(e[0],e[1]);this.textArea.setPosition(t[0],t[1]);this.imageContainer.setPosition(n[0],n[1])}});return{TextArea:l,NamePlate:c,ADVController:p}}