"use strict";zz.debug=new function(){var a=zz.ReferencePoint;var b={REDRAW:"__redraw__",UPDATE_TREE:"__update_tree__"};var c=null;var d=[{"property":"x","title":"X","type":k,"ratio":1},{"property":"y","title":"Y","type":k,"ratio":1},{"property":"width","title":"W","type":k,"ratio":1},{"property":"height","title":"H","type":k,"ratio":1},{"property":"rotation","title":"回転","type":k,"ratio":1},{"property":"alpha","title":"アルファ(％)","type":k,"ratio":100},{"property":"scaleX","title":"X(％)","type":k,"ratio":100},{"property":"scaleY","title":"Y(％)","type":k,"ratio":100},{"property":"visible","title":"表示","type":l},{"property":"referencePoint","title":"参照位置","type":m},{"property":"timeLine","title":"MC(-/-)","type":n}];function e(a){return window.localStorage.getItem(a)||null;}function f(a,b){window.localStorage.setItem(a,b);}function g(){if(c)for(var b=0;b<d.length;b++){var e=d[b];var f=e.property;var g=e.input;if(f=="timeLine")if(c instanceof zz.MovieClip)e.element.style.display="block";else{e.element.style.display="none";continue;}if(document.activeElement!=g&&g.value!==c[f])switch(e.type){case k:g.value=c[f]*e.ratio;break;case l:g.checked=c[f];break;case m:for(var h=0;h<g.options.length;h++){var i=c[f]==a.CENTER?a.CENTER|a.MIDDLE:c[f];if(g.options[h].value==i)g.options[h].selected=true;}break;case n:g.min=1;var j=c.totalFrames;g.max=j;var o=e.title;o.innerHTML=["MC(",c.currentFrame,"/",j,")"].join("");g.value=c.currentFrame;break;default:break;}}}function h(a,b,c){var d=document.createElement("div");d.id=a;d.className="window";if(c)for(var g in c){var h=c[g];d.style[g]=h;}var i=document.createElement("div");i.className="title";i.innerHTML=b;d.appendChild(i);(function(){var b=false,c,g;var h=e(a+"X");var j=e(a+"Y");if(h&&j){d.style.position="absolute";d.style.left=h;d.style.top=j;d.style.bottom="";d.style.right="";}function k(a){if(b){var e=window.pageXOffset;var f=window.pageYOffset;d.style.left=e+a.clientX-c+"px";d.style.top=f+a.clientY-g+"px";a.preventDefault();}}i.addEventListener("mousedown",function(a){b=true;c=a.layerX;g=a.layerY;var e=d.getBoundingClientRect();var f=window.pageXOffset;var h=window.pageYOffset;d.style.left=f+e.left+"px";d.style.top=h+e.top+"px";d.style.bottom="";d.style.right="";d.style.position="absolute";document.addEventListener("mousemove",k);a.preventDefault();a.stopPropagation();});function l(c){b=false;document.removeEventListener("mousemove",k);f(a+"X",d.style.left);f(a+"Y",d.style.top);c.preventDefault();}i.addEventListener("mouseup",l);})();return d;}function i(){var a=h("property","プロパティ",{position:"absolute",right:"0px",bottom:"0px"});document.body.appendChild(a);for(var b=0;b<d.length;b++){var c=d[b];a.appendChild(c.type(c));}return a;}window.addEventListener("load",i);function j(a){var b=document.createElement("div");var c=document.createElement("span");c.innerHTML=a.title+":";var d=document.createElement("input");d.addEventListener("mousedown",function(a){a.stopPropagation();});d.addEventListener("mousemove",function(a){a.preventDefault();a.stopPropagation();});a.title=c;a.input=d;a.element=b;b.appendChild(c);b.appendChild(d);return b;}function k(a){var d=a.property;var e=j(a);var f=a.input;f.type="number";f.addEventListener("input",function(e){if(c&&f.value){var g=null;var h=parseInt(f.value,10);if(!isNaN(h))g=h/a.ratio;if(g!==null){c[d]=g;c.dispatchEvent(b.REDRAW);c.transform();}}e.preventDefault();});return e;}function l(a){var b=a.property;var d=j(a);var e=a.input;e.type="checkbox";e.addEventListener("click",function(a){if(c){var d=e.checked;if(d!==null){c[b]=d;c.dispatchEvent(zz.Event.ENTER_FRAME);}}});return d;}function m(b){function d(a,b,c){return ['<option name="',a,'" value="',b,'">',c,'</option>'].join("");}var e=[d("LT",a.LEFT|a.TOP,"左上"),d("LM",a.LEFT|a.MIDDLE,"左中"),d("LB",a.LEFT|a.BOTTOM,"左下"),d("CT",a.CENTER|a.TOP,"中上"),d("CM",a.CENTER|a.MIDDLE,"中中"),d("CB",a.CENTER|a.BOTTOM,"中下"),d("RT",a.RIGHT|a.TOP,"右上"),d("RM",a.RIGHT|a.MIDDLE,"右中"),d("RB",a.RIGHT|a.BOTTOM,"右下")].join("");var f=b.property;var g=document.createElement("div");var h=document.createElement("span");h.innerHTML=b.title+":";var i=document.createElement("select");i.innerHTML=e;i.addEventListener("mouseup",function(a){var b=i.options[i.selectedIndex].value;if(c){c[f]=b;c.transform();}});g.appendChild(i);b.input=i;return g;}function n(a){var b=a.property;var d=j(a);d.style.display="none";var e=a.input;e.type="range";var f=a.title;function h(a){if(c&&e.value){var b=parseInt(e.value,10);if(c.playing)c.gotoAndPlay(b);else c.gotoAndStop(b);g();}a.preventDefault();}e.addEventListener("change",h);e.addEventListener("input",h);return d;}function o(a){if(c)(function b(a){a.style.outline="";if(a instanceof zz.DisplayObjectContainer)for(var c=0,d=a.numChildren;c<d;c++){var e=a.getChildAt(c);b(e);}})(c);var d=[{color:"rgb(0,50,255)",style:"solid",width:"3px"},{color:"rgb(50,150,255)",style:"dotted",width:"2px"},{color:"rgb(150,200,255)",style:"dashed",width:"1px"}];var e=d.length;var f=0;(function g(a){var b=d[f];a.style.outline=[b.width,b.style,b.color].join(" ");++f;if(f<e)if(a instanceof zz.DisplayObjectContainer)for(var c=0,h=a.numChildren;c<h;c++){var i=a.getChildAt(c);g(i);}--f;})(a);c=a;}function p(){this.opened=false;this.addEventListener(zz.TouchEvent.TOUCH_DOWN,function(){this.opened=true;o(this);var a=this.parent;while(a){a.opened=true;a=a.parent;}this.root.dispatchEvent(b.UPDATE_TREE);return true;});if(zz.ENV.RENDERING_ENGINE=="Gecko")this.addEventListener(b.REDRAW,function(){var a=this.style.outline;var b=this;function c(){b.style.outline=a;}if(a){this.style.outline="";setTimeout(c,100);}});}function q(){var a=this;this.addEventListener(KeyboardEvent.KEY_DOWN,function(a){if(c){var d=false;var e=a.shiftKey?10:1;switch(a.keyCode){case Keyboard.LEFT:c.x-=e;d=true;break;case Keyboard.RIGHT:c.x+=e;d=true;break;case Keyboard.UP:c.y-=e;d=true;break;case Keyboard.DOWN:c.y+=e;d=true;break;default:break;}if(d){c.dispatchEvent(b.REDRAW);c.transform();g();return true;}}return false;});function d(){var a=h("objectTree","DisplayObject Tree",{position:"absolute",left:"0px",bottom:"0px"});document.body.appendChild(a);return a;}var i=d();var j=document.createElement("div");i.appendChild(j);function k(){g();while(j.firstChild)j.removeChild(j.firstChild);function d(e,f){var g=document.createElement("div");g.className="group";var h=g.style;if(f===c)h.outline="1px solid #f00";else h.outline="";function i(){if(f.opened)if(f instanceof zz.DisplayObjectContainer)for(var a=0,b=f.numChildren;a<b;a++){var c=f.getChildAt(a);d(g,c);}}function j(){var c=document.createElement("input");c.type="button";var d=c.style;c.onmousedown=function(c){o(f);f.opened^=true;i();a.dispatchEvent(b.UPDATE_TREE);};var e="["+(f.name||"-")+"]";if(f instanceof zz.DisplayObjectContainer)e+=" ("+f.numChildren+")";else e+=" (-)";c.value=e;return c;}g.appendChild(j());e.appendChild(g);i();}d(j,this);}this.addEventListener(b.UPDATE_TREE,k);this.addEventListener(zz.Event.ENTER_FRAME,g);(function(){var b=e("debugFrameRate")||this.frameRate;var c=b;Object.defineProperty(this,"frameRate",{get:function(){return c;},set:function(a){b=a;}});var d=h("stageProperty","Stage設定",{position:"absolute",top:"0px",left:"0px"});document.body.appendChild(d);(function(){var a=document.createElement("div");a.innerHTML="FPS:";var e=document.createElement("input");e.type="range";e.max=60;e.min=1;e.value=c;e.addEventListener("mousedown",function(a){a.stopPropagation();});function g(){var a=parseInt(e.value,10);if(!isNaN(a)){c=a;f("debugFrameRate",a);}}e.addEventListener("change",g);e.addEventListener("input",g);a.appendChild(e);d.appendChild(a);this.addEventListener(zz.Event.ENTER_FRAME,function(){a.firstChild.nodeValue=["FPS 本来:",b,"/設定値:",c].join("");});}).call(this);(function(){var b=document.createElement("div");var c=document.createElement("span");c.innerHTML=this.running?"再生中":"停止中";function e(a){var b=document.createElement("input");b.type="button";b.value=a;b.style.margin="5px 5px";b.style.width="100px";return b;}var f=e("一時停止");f.addEventListener("click",function(b){if(a.running){c.innerHTML="停止中";f.value="再生";a.pause();}else{c.innerHTML="再生中";f.value="一時停止";a.start();}});this.timeLineElement=document.createElement("span");this.timeLineElement.innerHTML="現在:"+this.frameCount+"フレーム目";b.appendChild(f);b.appendChild(this.timeLineElement);b.appendChild(c);d.appendChild(b);}).call(this);(function(){var a=document.createElement("div");var b=document.createElement("span");b.innerHTML="ステージ色:";var c=document.createElement("select");var g=[["透明",""],["半透明(黒10%)","rgba(0, 0, 0, 0.1)"],["半透明(黒25%)","rgba(0, 0, 0, 0.25)"],["黒","#000"],["白","#fff"],["赤","#f00"],["緑","#0f0"],["青","#00f"]];var h=parseInt(e("stageColor")||0,10);for(var i=0;i<g.length;i++){var j=g[i];c.innerHTML+=['<option value="',j[1],'">',j[0],"</option>"].join("");}c.options[h].selected=true;this.backgroundColor=c.options[h].value;var k=this;c.addEventListener("mouseup",function(a){var b=c.options[c.selectedIndex].value;k.backgroundColor=b;f("stageColor",c.selectedIndex);});a.appendChild(b);a.appendChild(c);d.appendChild(a);}).call(this);(function(){var b=document.createElement("div");var c=document.createElement("span");c.innerHTML="ステージ外表示";var g=document.createElement("input");g.type="checkbox";g.checked=e("stageOverflow");a.style.overflow=g.checked?"":"hidden";g.addEventListener("click",function(b){a.style.overflow=g.checked?"":"hidden";f("stageOverflow",g.checked||"");});b.appendChild(c);b.appendChild(g);d.appendChild(b);}).call(this);}).call(this);}q.prototype=zz.createClass(q,{onEnterFrame:function(){if(this.frameCount===undefined)this.frameCount=0;if(this.timeLineElement)this.timeLineElement.innerHTML=" 現在:"+this.frameCount+"フレーム目";++this.frameCount;}});function r(){}r.prototype=zz.createClass(r,{addChildAt:function(){this.root.dispatchEvent(b.UPDATE_TREE);},removeChild:function(){this.root.dispatchEvent(b.UPDATE_TREE);},setChildIndex:function(){this.root.dispatchEvent(b.UPDATE_TREE);},swapChildren:function(){this.root.dispatchEvent(b.UPDATE_TREE);}});function s(a,b){function c(){a.apply(this,arguments);if(typeof b!="function")throw new Error(b+" is not function.");b.apply(this,arguments);}c.prototype=a.prototype;function d(d){var e=b.prototype[d];var f=a.prototype[d];function g(){if(typeof f=="function")f.apply(this,arguments);if(typeof e=="function")e.apply(this,arguments);}c.prototype[d]=g;}for(var e in b.prototype)d(e);return c;}return zz.modularize(null,{DisplayObject:s(zz.DisplayObject,p),DisplayObjectContainer:s(zz.DisplayObjectContainer,r),Stage:s(zz.Stage,q)});}();