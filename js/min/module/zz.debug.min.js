"use strict";zz.debug=new function(){var a=zz.ReferencePoint;var b="__redraw__";var c=null;var d=false;function e(a){if(c)(function b(a){a.style.outline="";if(a instanceof zz.DisplayObjectContainer)for(var c=0,d=a.numChildren;c<d;c++){var e=a.getChildAt(c);b(e);}})(c);var d=[{color:"rgb(0,50,255)",style:"solid",width:"3px"},{color:"rgb(50,150,255)",style:"dotted",width:"2px"},{color:"rgb(150,200,255)",style:"dashed",width:"1px"}];var e=d.length;var f=0;(function g(a){var b=d[f];a.style.outline=[b.width,b.style,b.color].join(" ");++f;if(f<e)if(a instanceof zz.DisplayObjectContainer)for(var c=0,h=a.numChildren;c<h;c++){var i=a.getChildAt(c);g(i);}--f;})(a);c=a;}var f=document.createElement("div");function g(){function b(a,b,c){return ['<option name="',a,'" value="',b,'">',c,'</option>'].join("");}return [b("LT",a.LEFT|a.TOP,"左上"),b("LM",a.LEFT|a.MIDDLE,"左中"),b("LB",a.LEFT|a.BOTTOM,"左下"),b("CT",a.CENTER|a.TOP,"中上"),b("CM",a.CENTER|a.MIDDLE,"中中"),b("CB",a.CENTER|a.BOTTOM,"中下"),b("RT",a.RIGHT|a.TOP,"右上"),b("RM",a.RIGHT|a.MIDDLE,"右中"),b("RB",a.RIGHT|a.BOTTOM,"右下")].join("");}var h={x:{"title":"X","type":"number","ratio":1},y:{"title":"Y","type":"number","ratio":1},width:{"title":"W","type":"number","ratio":1},height:{"title":"H","type":"number","ratio":1},rotation:{"title":"回転","type":"number","ratio":1},alpha:{"title":"アルファ(％)","type":"number","ratio":100},scaleX:{"title":"X(％)","type":"number","ratio":100},scaleY:{"title":"Y(％)","type":"number","ratio":100},visible:{"title":"表示","type":"checkbox"},referencePoint:{"title":"参照位置","select":g}};function i(a,b){var c=false;var d,e;var f=window.localStorage.getItem(b+"X");var g=window.localStorage.getItem(b+"Y");if(f&&g){a.style.position="absolute";a.style.left=f;a.style.top=g;a.style.bottom="";a.style.right="";}a.addEventListener("mousedown",function(b){var f=b.target;c=true;d=b.layerX;e=b.layerY;var g=a.getBoundingClientRect();var i=window.pageXOffset;var j=window.pageYOffset;a.style.left=i+g.left+"px";a.style.top=j+g.top+"px";a.style.bottom="";a.style.right="";a.style.position="absolute";a.addEventListener("mousemove",h);});a.addEventListener("mouseup",function(d){c=false;d.preventDefault();a.removeEventListener("mousemove",h);window.localStorage.setItem(b+"X",a.style.left);window.localStorage.setItem(b+"Y",a.style.top);});function h(b){if(c){var f=window.pageXOffset;var g=window.pageYOffset;a.style.left=f+b.clientX-d+"px";a.style.top=g+b.clientY-e+"px";b.preventDefault();}}}function j(){var a=f.style;a.backgroundColor="#ddd";a.borderRadius="8px";a.border="2px solid #bbb";a.display="inline-block";a.padding="20px";a.margin="0px";a.textAlign="right";if(false){a.position="fixed";a.bottom="0px";a.right="0px";}else{a.position="fixed";a.top="0px";a.right="0px";i(f,"statusWindow");}document.body.appendChild(f);function d(a){var d=h[a];var e=document.createElement("div");e.innerHTML=d.title+":";var f=document.createElement("input");f.addEventListener("mousedown",function(a){a.preventDefault();a.stopPropagation();});f.addEventListener("mousemove",function(a){a.preventDefault();a.stopPropagation();});f.addEventListener("mouseup",function(a){f.focus();f.select();});f.addEventListener("click",function(b){var e=null;if(d.type=="checkbox")e=f.checked;if(e!==null)c[a]=e;b.preventDefault();});f.addEventListener("input",function(e){if(c&&f.value){var g=null;if(d.type=="number"){var h=parseInt(f.value,10);if(!isNaN(h))g=h/d.ratio;}if(g!==null){c[a]=g;c.dispatchEvent(b);}}e.preventDefault();});f.type=d.type;e.appendChild(f);d.input=f;return e;}function e(a){var b=h[g];var d=document.createElement("div");d.innerHTML=b.title+":";var e=document.createElement("select");e.innerHTML=b.select();e.addEventListener("mouseup",function(a){var b=e.options[e.selectedIndex].value;if(c)c[g]=b;});d.appendChild(e);b.input=e;return d;}for(var g in h){var j=h[g];if(j.type)f.appendChild(d(g));else if(j.select)f.appendChild(e(g));}}window.addEventListener("load",j);function k(){this.opened=false;d=true;this.addEventListener(zz.TouchEvent.TOUCH_DOWN,function(){d=true;this.opened=true;e(this);var a=this.parent;while(a){a.opened=true;a=a.parent;}return true;});if(zz.ENV.RENDERING_ENGINE=="Gecko")this.addEventListener(b,function(){var a=this.style.outline;function b(){this.style.outline=a;this.removeEventListener(zz.Event.ENTER_FRAME,b);}if(a){this.style.outline="";this.addEventListener(zz.Event.ENTER_FRAME,b);}});}function l(){this.style.border="3px solid rgba(255, 0, 0, 0.5)";this.style.overflow="";this.addEventListener(KeyboardEvent.KEY_DOWN,function(a){if(c){var d=false;var e=a.shiftKey?10:1;switch(a.keyCode){case Keyboard.LEFT:c.x-=e;d=true;break;case Keyboard.RIGHT:c.x+=e;d=true;break;case Keyboard.UP:c.y-=e;d=true;break;case Keyboard.DOWN:c.y+=e;d=true;break;default:break;}if(d){c.dispatchEvent(b);return true;}}return false;});var g=document.createElement("div");document.body.appendChild(g);var j=document.createElement("div");(function(){var a=j.style;a.position="fixed";a.left="0px";a.bottom="0px";a.backgroundColor="rgba(200, 200, 200, 0.7)";a.borderRadius="8px";a.border="2px solid #bbb";a.display="inline-block";a.padding="20px";a.margin="0px";document.body.appendChild(j);})();i(j,"objectMapWindow");function k(){if(!d)return;while(j.firstChild)j.removeChild(j.firstChild);function a(b,c){var f=document.createElement("div");var g=f.style;g.outline="";g.margin="5px 0px";function h(){if(c.opened)if(c instanceof zz.DisplayObjectContainer)for(var b=0,d=c.numChildren;b<d;b++){var e=c.getChildAt(b);a(f,e);}}function i(){var a=document.createElement("input");a.type="button";var b=a.style;b.margin="3px";a.onmousedown=function(a){d=true;e(c);c.opened^=true;h();};var f=Object.prototype.toString.apply(c);if(c.name)f+=" ["+c.name+"]";a.value=f;return a;}f.appendChild(i());b.appendChild(f);h();}a(j,this);d=false;}this.addEventListener(zz.Event.ENTER_FRAME,k);this.addEventListener(zz.Event.ENTER_FRAME,function(){if(c)for(var b in h){var d=h[b];var e=d.input;if(document.activeElement!=e&&e.value!==c[b])if(e.type=="select-one"){for(var f=0;f<e.options.length;f++){var g=c[b]==a.CENTER?a.CENTER|a.MIDDLE:c[b];if(e.options[f].value==g)e.options[f].selected=true;}}else if(e.type=="checkbox")e.checked=c[b];else e.value=c[b]*d.ratio;}});var l=window.localStorage.getItem("debugFrameRate")||this.frameRate;var m=l;Object.defineProperty(this,"frameRate",{get:function(){return m;},set:function(a){l=a;}});var n=document.createElement("div");(function(){var a=n.style;a.marginTop="10px";var b=document.createElement("div");b.innerHTML="FPS:";f.appendChild(n);var c=document.createElement("input");c.type="range";c.max=60;c.min=1;c.value=m;c.onmouseup=function(a){c.focus();c.select();};c.addEventListener("mousedown",function(a){a.preventDefault();a.stopPropagation();});function d(){var a=parseInt(c.value,10);if(!isNaN(a)){m=a;window.localStorage.setItem("debugFrameRate",a);}}c.addEventListener("change",d);c.addEventListener("input",d);b.appendChild(c);n.appendChild(b);this.addEventListener(zz.Event.ENTER_FRAME,function(){b.firstChild.nodeValue=["FPS 本来:",l,"/設定値:",m].join("");});}).call(this);}var m={addChild:function(){d=true;},addChildAt:function(){d=true;},removeChild:function(){d=true;},setChildIndex:function(){d=true;},swapChildren:function(){d=true;}};function n(a,b,c){function d(){a.apply(this,arguments);if(typeof b=="function")b.apply(this,arguments);}d.prototype=a.prototype;function e(a){var b=c[a];var e=d.prototype[a];function f(){if(typeof e=="function")e.apply(this,arguments);if(typeof b=="function")b.apply(this,arguments);}d.prototype[a]=f;}if(typeof c=="object")for(var f in c)e(f);return d;}return zz.modularize(null,{DisplayObject:n(zz.DisplayObject,k),DisplayObjectContainer:n(zz.DisplayObjectContainer,null,m),Stage:n(zz.Stage,l)});}();