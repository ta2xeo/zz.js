"use strict";zz.adv=new function(){function a(){zz.MovieClip.apply(this);var t=new zz.TextField("â–¼");t.textColor=e;this.addChild(t);this.width=30;this.height=30;this.setAnimation({1:{alpha:0,tween:true},15:{alpha:1,tween:true},30:{alpha:0,tween:true}})}function f(u,f,l){zz.DisplayObjectContainer.apply(this);this.backgroundColor=t;this.alpha=n;this.setSize(u,f);this.style.borderRadius=(l||i)+"px";this.index=-1;this.textWait=r;this.text=new zz.TextField;this.text.textColor=e;var c=s;var h=o;this.text.style.padding=[h+"px",c+"px",0+"px"].join(" ");this.setTexts(new Array);this.readyIcon=new a;this.readyIcon.referencePoint=zz.ReferencePoint.BOTTOM|zz.ReferencePoint.RIGHT;this.readyIcon.setPosition(this.width-10,this.height-10);this.addChild(this.text);this.addChild(this.readyIcon);this.ready=true;var p=this;this._typewriter=function(){var e=p.textWait/p.root.frameRate;++p.count;if(p.count>e){p.count=0;++p.character;p.text.text=p.current.substr(0,p.character);if(p.character==p.current.length){p.ready=true;p.removeEventListener(Event.ENTER_FRAME,p._typewriter)}}}}function l(n,r,s){zz.Sprite.apply(this);this.setSize(n,r);this.backgroundColor=t;this.style.borderRadius=(s||i)+"px";this.style.border=u;this._name=new zz.TextField;this._name.referencePoint=zz.ReferencePoint.CENTER;this._name.setPosition(this.width/2,this.height/2);this._name.textColor=e;this.defaultNameColor=this.nameColor;this.addChild(this._name);this.nameColors=new Object}function c(e,t){this.textArea=e;this.namePlate=t}var e="#ffffff";var t="#000000";var n=.6;var r=50;var i=15;var s=20;var o=10;var u="5px ridge #0f00f0";a.prototype=zz.createClass(zz.MovieClip,{});f.prototype=zz.createClass(zz.DisplayObjectContainer,{setTexts:function(e){this.index=-1;this.texts=e},erase:function(){this.text.text=""},current:{get:function(){var e=this.texts[this.index];return e||null}},next:function(){++this.index;var e=this.texts[this.index];return e||null},forward:function(){if(this.ready&&this.textWait!==0){this.character=1;this.count=0;this.text.text=this.current.substr(0,this.character);this.addEventListener(Event.ENTER_FRAME,this._typewriter);this.ready=false}else{this.removeEventListener(Event.ENTER_FRAME,this._typewriter);this.text.text=this.current;this.ready=true}},read:function(){var e=false;if(this.ready){this.next()}if(this.current===null){e=true}else{this.forward()}return e},ready:{get:function(){return this._ready},set:function(e){this._ready=e;if(this.readyIcon){this.readyIcon.visible=this._ready;if(this._ready){this.readyIcon.play()}else{this.readyIcon.stop()}}}}});l.prototype=zz.createClass(zz.Sprite,{name:{get:function(){return this._name.text},set:function(e){this._name.text=e;if(e in this.nameColors){this.nameColor=this.nameColors[e]}else{this.nameColor=this.defaultNameColor}}},nameColor:{get:function(){return this._name.textColor},set:function(e){this._name.textColor=e}}});c.prototype=zz.createClass(Object,{setData:function(e,t){this.names=new Array;var n=new Array;for(var r=0,i=e.length;r<i;r++){this.names.push(e[r].name);n.push(e[r].text)}this.textArea.setTexts(n);this.end=t},read:function(){if(this.textArea.read()){if(typeof this.end==="function"){this.end()}}else{var e=this.names[this.textArea.index];if(e){this.namePlate.name=e}}},erase:function(){this.namePlate.name="";this.textArea.erase()}});return{TextArea:f,NamePlate:l,ADVController:c}}